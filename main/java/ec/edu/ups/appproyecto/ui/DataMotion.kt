package ec.edu.ups.appproyecto.uiimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.util.Logimport androidx.recyclerview.widget.LinearLayoutManagerimport androidx.recyclerview.widget.RecyclerViewimport com.google.android.material.floatingactionbutton.FloatingActionButtonimport ec.edu.ups.appproyecto.Rimport ec.edu.ups.appproyecto.data.adapterstemp.RecyclerAdaptermotionimport ec.edu.ups.appproyecto.data.responses.SensorResponseimport ec.edu.ups.appproyecto.data.services.ApiClientimport ec.edu.ups.appproyecto.util.MyMessageimport kotlinx.coroutines.CoroutineScopeimport kotlinx.coroutines.Dispatchersimport kotlinx.coroutines.launchimport retrofit2.Callimport retrofit2.Callbackimport retrofit2.Responseclass DataMotion : AppCompatActivity() {    private lateinit var apiClient: ApiClient    // var datalist = ArrayList<User>()    lateinit var recyclerView: RecyclerView    // lateinit var adapter: RecyclerView    private lateinit var back:FloatingActionButton    override fun onResume() {        super.onResume()        CoroutineScope(Dispatchers.IO).launch {            cargarDatos()        }    }    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_motion_data)        apiClient= ApiClient()        back= findViewById(R.id.btnback)        recyclerView= findViewById(R.id.recyclerViewmotion)        CoroutineScope(Dispatchers.IO).launch {            cargarDatos()            Log.i("Proyecto","aquii")        }        back.setOnClickListener {            finish()        }    }    private suspend fun cargarDatos(){        //Log.i("Proyecto","aquii")        apiClient.getApiService(this).listUser()            .enqueue(object: Callback<SensorResponse> {                override fun onResponse(                    call: Call<SensorResponse>,                    response: Response<SensorResponse>                ) {                    val listaUsuario = response.body()?.users                    //Log.i("Proyecto",listaUsuario.toString())                    //Log.i("Proyecto", Gson().toJson(listaUsuario))                    if (listaUsuario != null) {                        recyclerView.apply{                            layoutManager= LinearLayoutManager(this@DataMotion)                            adapter= RecyclerAdaptermotion(listaUsuario)                            //Log.i("Proyecto", "aqui")                        }                    } else {                        MyMessage.toast(applicationContext, "No existen registros")                    }                }                override fun onFailure(call: Call<SensorResponse>, t: Throwable) {                    MyMessage.toast(applicationContext,t.toString())                }            })    }}